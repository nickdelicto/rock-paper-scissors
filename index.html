<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
    </head>

    <body>
        <script>
            let rock = "rock";
            let paper = "paper";
            let scissors = "scissors";

           /* Declare a function "getComputerChoice" to randomly return either,
           'Rock', 'Paper' or 'Scissors' */
           function getComputerChoice() {
            let array = [rock, paper, scissors];
            let random = (Math.floor(Math.random() * array.length));
            return array[random];
            }

            let computerSelection;
            let playerSelection;
            
            /* Define function taking the user input and computer's random choice,
            as arguments.*/
            let playerScore = 0;
            let computerScore = 0;

            function playRound(playerSelection, computerSelection) {
                do {
                    playerSelection = prompt("Rock, Paper, Scissors, shoot!").toLowerCase();
                } while (playerSelection !== rock && playerSelection !== paper && playerSelection !== scissors);

                computerSelection = getComputerChoice();

                if ((playerSelection === rock) && (computerSelection === scissors)) {
                    return playerScore = 1;
                } else if ((playerSelection === scissors) && (computerSelection === paper)) {
                    return playerScore = 1;
                } else if ((playerSelection === paper) && (computerSelection === rock)) {
                    return playerScore = 1;
                } else if ((playerSelection === rock) && (computerSelection === paper)) {
                    return computerScore = 1;
                } else if ((playerSelection === paper) && (computerSelection === scissors)) {
                    return computerScore = 1;
                } else if ((playerSelection === scissors) && (computerSelection === rock)) {
                    return computerScore = 1;
                } else {
                    return playerScore;
                    return computerScore;
                }
            }

            /* Define a function game(). Do a loop calling the playRound function
            5 times. For each loop, tally playerScore and computerScore*/
            function game() {
                let finalPlayerScore = 0
                let finalComputerScore = 0

                for (let i = 1; i <= 5; i++) {
                    playRound(playerSelection, computerSelection);
                    if (playerScore === 1) {
                        finalPlayerScore = finalPlayerScore + playerScore;
                        console.log(`You win in round ${i}!`);
                    } else if (computerScore === 1) {
                        finalComputerScore = finalComputerScore + computerScore;
                        console.log(`You lose in round ${i}!`);
                    } else if ((playerScore === 0) && (computerScore === 0)) {
                        console.log(`You tie in round ${i}!`);
                    }
                }
                
                if (finalPlayerScore > finalComputerScore) {
                    console.log(`You Win! Your score: ${finalPlayerScore} / 5. Computer score: ${finalComputerScore} / 5.`);
                } else if (finalPlayerScore < finalComputerScore) {
                    console.log(`You Lose! Your score: ${finalPlayerScore} / 5. Computer score: ${finalComputerScore} / 5.`);
                } else if (finalPlayerScore === finalComputerScore) {
                    console.log(`It's a Tie! Your score: ${finalPlayerScore} / 5. Computer score: ${finalComputerScore} / 5.`)
                }
            } console.log(game());

        </script>
    </body>
</html>